# -*- snakemake -*-
import os

try:
    from snakemakelib.config import update_snakemake_config
    from snakemakelib.bio.ngs.db import index
except:
    pass

DEFAULT_RULES = ['blat_faToTwoBit']

include: '../settings.rules'

config_default = {
    'bio.ngs.align.blat' : {
        'ref': config['bio.ngs.settings']['db']['ref'],
        'index': "",
        'rules': DEFAULT_RULES,
    },
}

configdefault: config_default

# Update index
config['bio.ngs.align.blat']['index'] = index(
    ref = config['bio.ngs.align.blat']['ref'],
    index = config['bio.ngs.align.blat']['index'],
    application = 'blat',
    build = config['bio.ngs.settings']['db']['build'])

for rule in config['bio.ngs.align.blat']['rules']:
    include: os.path.join("blat", rule + ".rule")
